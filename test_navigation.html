<!DOCTYPE html>
<html>
<head>
    <title>Test Single Display Config</title>
    <script src="https://unpkg.com/@tauri-apps/api@2/core.js"></script>
</head>
<body>
    <h1>Test Single Display Config Mode</h1>
    <button onclick="testSingleDisplayConfig()">Test Single Display Config Mode</button>
    <button onclick="stopSingleDisplayConfig()">Stop Single Display Config Mode</button>
    <button onclick="navigateToSingleDisplay()">Navigate to Single Display Config</button>

    <div id="output"></div>

    <script>
        const { invoke } = window.__TAURI__.core;

        async function testSingleDisplayConfig() {
            try {
                document.getElementById('output').innerHTML += '<p>Starting test single display config mode...</p>';
                await invoke('test_single_display_config_mode');
                document.getElementById('output').innerHTML += '<p>✅ Test single display config mode started successfully!</p>';
            } catch (error) {
                document.getElementById('output').innerHTML += '<p>❌ Error: ' + error + '</p>';
            }
        }

        async function stopSingleDisplayConfig() {
            try {
                document.getElementById('output').innerHTML += '<p>Stopping single display config mode...</p>';
                await invoke('stop_single_display_config_publisher');
                document.getElementById('output').innerHTML += '<p>✅ Single display config mode stopped successfully!</p>';
            } catch (error) {
                document.getElementById('output').innerHTML += '<p>❌ Error: ' + error + '</p>';
            }
        }

        function navigateToSingleDisplay() {
            // Try to navigate using the ambient-light URL scheme
            window.location.href = 'ambient-light://navigate/led-strips-configuration/display/1';
        }
    </script>
</body>
</html>
